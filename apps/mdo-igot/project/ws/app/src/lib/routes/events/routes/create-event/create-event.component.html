<!-- <div class="container-balanced">
  <div style="display:flex; justify-content: right;">
    <div class="flex">
      <ws-widget-btn-page-back
        [widgetData]="{titles:[{title:'Events', url:'/app/home/events'},{title:'New Event',url:'none'}] }">
      </ws-widget-btn-page-back>
    </div>
    <span class="spacer"></span>
    <div class="flex flex-3 custom button-row">
        <button mat-stroked-button color="accent" type="button" class="mat-accent-border flex-auto-display">
            <span i18n>Cancel</span>
        </button>
        <button mat-stroked-button color="accent" type="button" class="mat-accent-border flex-auto-display" (click)="onSubmit(createEventForm)">
            <span i18n>Save and Publish</span>
        </button>
    </div>
  </div>
</div> -->


<div class="container-balanced">
  <div class="flex flex-1 custom">
    <div class="flex-3">
     <!--  <ws-widget-btn-page-back
        [widgetData]="{titles:[{title:'Events', url:'/app/home/events'},{title:'New Event',url:'none'}] }">
      </ws-widget-btn-page-back> -->
      <div style="display:flex; justify-content: right;">
      <div class="flex">
        <ws-widget-btn-page-back
          [widgetData]="{titles:[{title:'Events', url:'/app/home/events'},{title:'New Event',url:'none'}] }">
        </ws-widget-btn-page-back>
      </div>
      <span class="spacer"></span>
      <div class="flex flex-3 custom button-row">
          <button mat-stroked-button color="accent" type="button" class="mat-accent-border flex-auto-display">
              <span i18n>Cancel</span>
          </button>
          <button mat-stroked-button color="accent" type="button" class="mat-accent-border flex-auto-display" (click)="onSubmit(createEventForm)">
              <span i18n>Save and Publish</span>
          </button>
      </div>
    </div>

      <div class="flex flex-4 flex-column">
        <div class="flex flex-1 custom">
          <div class="flex-1" style="position: relative;">
            <div #stickyMenu [class.sticky]="sticky">
              <ws-widget-scrollspy-left-menu [currentTab]="currentTab" [tabsData]="tabsData" class="flex flex-1"
                (eSideNavClick)="onSideNavTabClick($event)">
              </ws-widget-scrollspy-left-menu>
            </div>
          </div>
          <div class="flex-3">
            <div class="flex flex-1 flex-column">
              <!-- Basic Info card -->
              <!-- -->

              <!-- Academic card -->
              <!-- -->

              <!-- Professional details card -->
              <!-- -->

              <!-- Skills card -->
              <!-- --> 
              <div class="profile-container container-balanced">
          <div class="profile-box">
            <form class="create-event-form" [formGroup]="createEventForm">
              <div class="input-column px-2 ws-mat-accent-border mb-10" style="padding:15px;" id="eventInfo">

                <label class="heading">Event Details</label>
                  <div class="input-wrapper margin-top-s">

                    <div style="display:flex; justify-content: right;">
                      <mat-card class="mb-10 button-row" style="width: 200px;box-shadow: none;border:1px solid #ededed; margin-right:20px; text-align: center;">
                        <div class="item">
                            <img src="/assets/icons/jpg.svg" style="width: 35px;">
                            <input type="file" id="coverPicture" (change)="onFileSelect($event);" />
                            <button mat-stroked-button color="accent" type="button" class="caption mat-accent-border flex-auto-display" (click)="selectCover()">Cover Picture</button>
                            <mat-card-content class="caption" style="color:rgba(0, 0, 0, 0.6); font-size: 14px; justify-content: center;">
                              Upload jpg file here
                            </mat-card-content>
                        </div>
                      </mat-card>
                      <mat-card *ngIf="imageSrc" class="mb-10 button-row" style="width: 200px;box-shadow: none;border:1px solid #ededed; margin-right:20px;">
                          <mat-card-content style="color:rgba(0, 0, 0, 0.6); font-size: 14px;">
                            <img id="blah" [src]="imageSrcURL" alt="your image" style="width:200px;" />
                          </mat-card-content>
                      </mat-card>
                    </div>

                    <label for="eventTitle" class=" margin-remove-bottom form-label required"
                      i18n="Event Title label|Label which explains the user to enter event title" i18n-aria-label
                      aria-label="Event title label">
                      Event title
                    </label>
                    <mat-form-field appearance="outline" class="margin-top-xs">
                      <input id="eventTitle" matInput #eventTitle formControlName="eventTitle" i18n-placeholder placeholder="Type here"
                        i18n-aria-label aria-label="Event Title input" class="form-input" />
                      <mat-error [hidden]="false" i18n="Event title Error|Explains event title is required" i18n-aria-label
                        aria-label="Event title Error|Explains event title is required "
                        *ngIf="createEventForm?.controls['eventTitle']?.touched && createEventForm?.controls['eventTitle'].errors?.required">
                        Event title is mandatory
                      </mat-error>
                      <mat-error [hidden]="false" *ngIf="createEventForm?.controls['eventTitle'].errors?.pattern" i18n-aria-label
                        aria-label="Event title Error|Event title fields cannot contain numbers and special characters except">
                        Event title fields cannot contain numbers and special characters except '
                      </mat-error>
                    </mat-form-field>

                    <label for="summary" class=" margin-remove-bottom form-label required"
                      i18n="summary label|Label which explains the user to enter summary" i18n-aria-label
                      aria-label="summary label">
                      Summary
                    </label>
                    <mat-form-field appearance="outline" class="margin-top-xs">
                      <textarea id="summary" matInput #summary formControlName="summary" i18n-placeholder placeholder="Type here"
                        i18n-aria-label aria-label="Summary input" class="form-input" rows="4" cols="40"></textarea>
                      <mat-error [hidden]="false" i18n="Summary Error|Explains summary is required" i18n-aria-label
                        aria-label="Summary Error|Explains summary is required "
                        *ngIf="createEventForm?.controls['summary']?.touched && createEventForm?.controls['summary'].errors?.required">
                        Summary is mandatory
                      </mat-error>
                      <mat-error [hidden]="false" *ngIf="createEventForm?.controls['summary'].errors?.pattern" i18n-aria-label
                        aria-label="Summary Error|Summary fields cannot contain numbers and special characters except">
                        Summary fields cannot contain numbers and special characters except '
                      </mat-error>
                    </mat-form-field>

                    <label for="description" class=" margin-remove-bottom form-label required"
                      i18n="description label|Label which explains the user to enter summary" i18n-aria-label
                      aria-label="description label">
                      Description
                    </label>
                    <mat-form-field appearance="outline" class="margin-top-xs">
                      <textarea id="description" matInput #description formControlName="description" i18n-placeholder placeholder="Type here"
                        i18n-aria-label aria-label="description input" class="form-input" rows="4" cols="40"></textarea>
                      <mat-error [hidden]="false" i18n="description Error|Explains description is required" i18n-aria-label
                        aria-label="description Error|Explains description is required "
                        *ngIf="createEventForm?.controls['description']?.touched && createEventForm?.controls['description'].errors?.required">
                        description is mandatory
                      </mat-error>
                      <mat-error [hidden]="false" *ngIf="createEventForm?.controls['description'].errors?.pattern" i18n-aria-label
                        aria-label="description Error|description fields cannot contain numbers and special characters except">
                        description fields cannot contain numbers and special characters except '
                      </mat-error>
                    </mat-form-field>

                    <label for="agenda" class=" margin-remove-bottom form-label required"
                      i18n="agenda label|Label which explains the user to enter agenda" i18n-aria-label
                      aria-label="agenda label">
                      Event Agenda
                    </label>
                    <mat-form-field appearance="outline" class="margin-top-xs">
                      <textarea id="agenda" matInput #agenda formControlName="agenda" i18n-placeholder placeholder="Type here"
                        i18n-aria-label aria-label="agenda input" class="form-input" rows="4" cols="40"></textarea>
                      <mat-error [hidden]="false" i18n="agenda Error|Explains agenda is required" i18n-aria-label
                        aria-label="agenda Error|Explains agenda is required "
                        *ngIf="createEventForm?.controls['agenda']?.touched && createEventForm?.controls['agenda'].errors?.required">
                        Agenda is mandatory
                      </mat-error>
                      <mat-error [hidden]="false" *ngIf="createEventForm?.controls['agenda'].errors?.pattern" i18n-aria-label
                        aria-label="agenda Error|agenda fields cannot contain numbers and special characters except">
                        Agenda fields cannot contain numbers and special characters except '
                      </mat-error>
                    </mat-form-field>

                    <label>Event type</label>
                    <div  class="flex flex-1 custom ">
                      <mat-card *ngFor="let type of eventTypes" class="mb-10 button-row" style="max-width: 200px;box-shadow: none;border:1px solid #ededed; margin-right:20px;">
                        <mat-card-header>
                            <mat-card-subtitle style="text-align: left;font-size: 12px;">
                              <input type="radio" name="eventType" [value]="type.title" (change)="changeEventType($event)">
                              <label>{{ type?.title }}</label>
                            </mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content style="color:rgba(0, 0, 0, 0.6); font-size: 14px;">
                          {{ type?.desc }}
                        </mat-card-content>
                      </mat-card>
                    </div>
                  </div>
              </div>

              <div class="input-column px-2 ws-mat-accent-border mb-10" style="padding:15px;" id="datetime">
                <label class="heading">Date Time</label>
                  <div class="input-wrapper margin-top-s">
                    <label>Date</label>
                    <mat-form-field color="accent" appearance="outline">
                      <input matInput [matDatepicker]="eventDate" formControlName="eventDate">
                      <mat-datepicker-toggle matSuffix [for]="eventDate"></mat-datepicker-toggle>
                      <mat-datepicker #eventDate></mat-datepicker>
                    </mat-form-field>

                    <label>When</label>
                    <mat-form-field appearance="outline">
                      <mat-select formControlName="eventTime" #eventTime>
                        <mat-option *ngFor="let timeObj of timeArr" [value]="timeObj.value">
                          {{ timeObj.value }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>

                    <label>Duration</label>
                    <mat-form-field appearance="outline">
                      <mat-select formControlName="eventDuration" #eventDuration> 
                        <mat-option *ngFor="let minObj of [0,15,30,45,60]" [value]="minObj">
                          {{minObj}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>

                  </div>
              </div>

              <div class="input-column px-2 ws-mat-accent-border mb-10" style="padding:15px;" id="videoinfo">
                <label class="heading">Video Conferencing</label>
                  <div class="input-wrapper margin-top-s">
                    <label for="conferenceLink" class=" margin-remove-bottom form-label required"
                      i18n="conferenceLink label|Label which explains the user to enter conferenceLink" i18n-aria-label
                      aria-label="conferenceLink label">
                      Video Conferencing
                    </label>
                    <mat-form-field appearance="outline" class="margin-top-xs">
                      <input id="conferenceLink" matInput #conferenceLink formControlName="conferenceLink" i18n-placeholder placeholder="Type here"
                        i18n-aria-label aria-label="conferenceLink input" class="form-input" rows="4" cols="40" />
                      <mat-error [hidden]="false" i18n="conferenceLink Error|Explains conferenceLink is required" i18n-aria-label
                        aria-label="conferenceLink Error|Explains conferenceLink is required "
                        *ngIf="createEventForm?.controls['conferenceLink']?.touched && createEventForm?.controls['conferenceLink'].errors?.required">
                        conferenceLink is mandatory
                      </mat-error>
                      <mat-error [hidden]="false" *ngIf="createEventForm?.controls['conferenceLink'].errors?.pattern" i18n-aria-label
                        aria-label="conferenceLink Error|conferenceLink fields cannot contain numbers and special characters except">
                        conferenceLink fields cannot contain numbers and special characters except '
                      </mat-error>
                    </mat-form-field>
                  </div>
              </div>

              <div class="input-column px-2 ws-mat-accent-border mb-10" style="padding:15px;" id="presenter">
                <label class="heading">Presenters</label>
                  <div class="input-wrapper margin-top-s">

                    <label class="form-label" aria-label="conferenceLink label mb-10" style="color:rgba(0, 0, 0, 0.6);">
                      Presenters added are displayed in the event details page.
                    </label>

                    <div class="flex flex-1 custom button-row">
                        <button mat-stroked-button color="accent" type="button" class="mat-accent-border flex-auto-display" (click)="openDialog()">
                            <span i18n>Add karmayogi user</span>
                        </button>
                    </div>

                    <div class="example-table-container" *ngIf="participantsArr.length > 0">

                      <table mat-table [dataSource] = "participantsArr" >

                        <ng-container matColumnDef="select">
                          <th mat-header-cell *matHeaderCellDef>
                            <mat-checkbox (change)="$event ? masterToggle() : null"
                                          [checked]="selection.hasValue() && isAllSelected()"
                                          [indeterminate]="selection.hasValue() && !isAllSelected()">
                            </mat-checkbox>
                          </th>
                          <td mat-cell *matCellDef="let row">
                            <mat-checkbox (click)="$event.stopPropagation()"
                                          (change)="$event ? selection.toggle(row) : null"
                                          [checked]="selection.isSelected(row)">
                            </mat-checkbox>
                          </td>
                        </ng-container>

                        <ng-container matColumnDef="fullname">
                          <th mat-header-cell *matHeaderCellDef> Full name </th>
                          <td mat-cell *matCellDef="let element"> {{element.fullname}} </td>
                        </ng-container>

                        <!-- Name Column -->
                        <ng-container matColumnDef="email">
                          <th mat-header-cell *matHeaderCellDef> Email </th>
                          <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                        </ng-container>

                        <!-- Name Column -->
                        <ng-container matColumnDef="type">
                          <th mat-header-cell *matHeaderCellDef> Type </th>
                          <td mat-cell *matCellDef="let element"> {{element.type}} </td>
                        </ng-container>

                        <!-- Contact Column -->
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                        </tr>
                     </table>

                    </div>
                  </div>
              </div>

              <!-- <button mat-raised-button type="submit" (click)="onSubmit(createEventForm)"
                class="text-white btn-success btn-responsive" [disabled]="createEventForm?.invalid">
                <span class="text-white" i18n>
                  Create Event
                </span>
              </button> -->
            </form>
          </div>
        </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>