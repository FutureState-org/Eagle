<div class="banner w-full">
</div>

<div class="px-10 py-10">
    <div class="flex flex-4 flex-column">
        <div class="flex custom">
            <div>
                <img i18n-alt alt="today events" src="\assets\images\event\today-events.svg"/>
            </div>
            <div class="flex flex-3">
                <mat-card class="flex-1 no-box-shadow">
                    <mat-card-header class="flex items-baseline margin-fix" *ngIf="todayEventsCount > 0">
                        <mat-card-title class="margin-l-0 f-medium  flex-1">
                            <span class="width-expand">Today's events</span>
                        </mat-card-title>
                        <span class="spacer"></span>
                    </mat-card-header>
                    <mat-card-content class="mb-0-imp flex flex-wrap" style="margin-left:16px;">
                        <ng-container *ngIf="todayEventsCount > 0">
                            <ws-app-today-event-card *ngFor="let event of eventData['todayEvents']" class="mr-4" [data]="event"></ws-app-today-event-card>
                        </ng-container>
                        <ng-container *ngIf="todayEventsCount == 0">
                            <div class="today-empty-box" style="background-color: #ededed; width:250px; height: 115px; border-radius: 2px;">
                                <h5 class="today_no_event">No events today</h5>
                                <p class="today_no_event_desc">Scroll down to find out upcoming events</p>
                            </div>
                        </ng-container>
                    </mat-card-content>
                    <mat-card-footer>
                        <div class="flex flex-1 custom mx-8">
                            <button mat-stroked-button color="accent" type="button" class=" mat-accent-border flex-auto-display" (click)="scroll(allevents)">
                                <span i18n>See all events</span>
                            </button>
                        </div>
                    </mat-card-footer>
                </mat-card>
            </div>
        </div>
    </div>
</div>

<div class="w-full pt-10  px-10">
    <div class="flex flex-1 flex-column margin-fix mb-2">
        <span class="f-medium mat-title">Joined by me </span>
    </div>
    <div class="flex flex-wrap margin-fix">
        <ng-container *ngIf="joinedByMeEventsCount > 0">
            <div class="flex w-full sm:w-full md:w-1/2 mb-5">
                <ng-container *ngFor="let event of eventData['joinedByMe']">
                    <ws-app-events-card class="w-fix" [data]="event"></ws-app-events-card>
                </ng-container>
            </div>
        </ng-container>
        <ng-container *ngIf="joinedByMeEventsCount == 0">
            <div class="flex w-full sm:w-full">
                <mat-card style="width: 91%; box-shadow: none;">
                    <mat-card-header class="flex items-baseline margin-fix">
                        <mat-card-title class="margin-l-0 f-medium  flex-1">
                            <span style="font-size:14px;font-weight: normal;">No events associated with you!</span>
                        </mat-card-title>
                        <span class="spacer"></span>
                    </mat-card-header>
                    <mat-card-content class="mb-0-imp flex flex-wrap"></mat-card-content>
                </mat-card>
            </div>
        </ng-container>
    </div>
</div>

<div class="w-full pt-10  px-10" #allevents>
    <div class="flex flex-1 flex-column margin-fix mb-2">
        <span class="f-medium mat-title">All events </span>
    </div>
    <div class="flex flex-1 flex-column margin-fix search" *ngIf="allEventsCount > 0">
        <form >
            <mat-form-field appearance="outline" class="autocomplete-form mat-body-2" color="primary"
                [floatLabel]="'never'">
                <mat-icon matPrefix class="search-home flex items-center justify-center">search</mat-icon>
                <input type="search" #searchInput class="ml-2" i18n-placeholder="search content"
                    [placeholder]="'Search'" i18-aria-label aria-label="Query" matInput [formControl]="queryControl"
                    accesskey="F" />
            </mat-form-field>
        </form>
    </div>
    <div class="flex flex-1 flex-column margin-fix mt-5" *ngIf="allEventsCount > 0">
        <div class="flex flex-1 filter">
            <a href="javascript:void(0)" role="button" class="filter-option" [ngClass]="{'ws-mat-accent-border-active' : currentFilter === 'timestamp',
                            'ws-mat-accent-border font-normal':currentFilter !== 'timestamp'}" mat-button>
                All </a>
            <a href="javascript:void(0)" role="button" class="filter-option" [ngClass]="{'ws-mat-accent-border-active' : currentFilter === 'viewcount',
                            'ws-mat-accent-border font-normal':currentFilter !== 'viewcount'}" mat-button>
                Hosted by my MDO </a>
        </div>
        <!-- <span class="spacer"></span> -->
        <div class="flex flex-1 custom mx-8">
            <button mat-stroked-button color="accent" type="button" class=" mat-accent-border flex-auto-display" (click)="scroll(allevents)">
                <span i18n>See all events</span>
            </button>
        </div>
    </div>
    <div *ngIf="allEventsCount > 0" style="display: flex; flex-wrap: wrap;" fxLayout="row" fxLayoutWrap class="card-deck-container mat-elevation-z4">
       <div fxFlex *ngFor="let event of eventData['allEvents']" class="card-item" fxLayout="row wrap">
            <ws-app-events-card [ngStyle]="{'width':'300' + 'px'}" class="w-fix mr-10" [data]="event"></ws-app-events-card>
       </div>
    </div> 
    <div class="flex flex-1 flex-column margin-fix mt-5 mb-20" *ngIf="allEventsCount == 0">
        <div class="flex w-full sm:w-full">
            <mat-card style="width: 91%; box-shadow: none;">
                <mat-card-header class="flex items-baseline margin-fix">
                    <mat-card-title class="margin-l-0 f-medium  flex-1">
                        <span style="font-size:14px;font-weight: normal;">No events found!</span>
                    </mat-card-title>
                    <span class="spacer"></span>
                </mat-card-header>
                <mat-card-content class="mb-0-imp flex flex-wrap"></mat-card-content>
            </mat-card>
        </div>
    </div>
</div>